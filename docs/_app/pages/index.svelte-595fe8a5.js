var Dt=Object.defineProperty,Ut=Object.defineProperties;var Rt=Object.getOwnPropertyDescriptors;var Me=Object.getOwnPropertySymbols;var Lt=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable;var Ie=(n,e,t)=>e in n?Dt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,be=(n,e)=>{for(var t in e||(e={}))Lt.call(e,t)&&Ie(n,t,e[t]);if(Me)for(var t of Me(e))Pt.call(e,t)&&Ie(n,t,e[t]);return n},De=(n,e)=>Ut(n,Rt(e));import{S as ae,i as le,s as Z,e as w,J as Wt,c as v,d as u,b as _,D as x,E as V,t as J,k as H,a as A,g as Q,n as G,f as U,h as xe,K as fe,L as Ue,M as ie,A as Ae,j as ee,m as te,o as re,x as N,u as F,v as ne,l as $,N as Y,r as oe,w as de,O as we,P as Re,Q as Bt,R as j,T as he,U as Le,V as Nt,W as Pe,X as We,Y as Be,p as Ne,Z as qt,B as qe,_ as Ct,$ as Ft,a0 as Ce,a1 as me,a2 as ve,a3 as ce,a4 as ke,a5 as Se,a6 as Fe,a7 as Ht,q as Gt,a8 as He,a9 as Ot,aa as Vt,ab as jt,y as Ge,ac as Oe,ad as Kt,C as Yt}from"../chunks/vendor-0b5c535b.js";import{b as Xt}from"../chunks/paths-28a87002.js";function Jt(n){let e,t,r,a,s,l,i,o,d,c,b,y,f,z,k,m,h,g,E,B,p,T,L,P,W,O,q,C,M,I;return document.title=e=n[0],{c(){t=w("meta"),r=w("meta"),a=w("meta"),s=w("meta"),l=w("meta"),i=w("meta"),o=w("meta"),d=w("meta"),c=w("meta"),b=w("meta"),y=w("meta"),f=w("meta"),z=w("meta"),m=w("meta"),h=w("meta"),g=w("meta"),E=w("meta"),B=w("meta"),p=w("meta"),T=w("meta"),L=w("meta"),P=w("meta"),O=w("meta"),q=w("link"),M=w("link"),I=w("link"),this.h()},l(S){const D=Wt('[data-svelte="svelte-1giyjen"]',document.head);t=v(D,"META",{charset:!0}),r=v(D,"META",{name:!0,content:!0}),a=v(D,"META",{"http-equiv":!0,content:!0}),s=v(D,"META",{name:!0,content:!0}),l=v(D,"META",{name:!0,content:!0}),i=v(D,"META",{name:!0,content:!0}),o=v(D,"META",{property:!0,content:!0}),d=v(D,"META",{property:!0,content:!0}),c=v(D,"META",{property:!0,content:!0}),b=v(D,"META",{property:!0,content:!0}),y=v(D,"META",{property:!0,content:!0}),f=v(D,"META",{property:!0,content:!0}),z=v(D,"META",{property:!0,content:!0}),m=v(D,"META",{property:!0,content:!0}),h=v(D,"META",{property:!0,content:!0}),g=v(D,"META",{property:!0,content:!0}),E=v(D,"META",{name:!0,content:!0}),B=v(D,"META",{name:!0,content:!0}),p=v(D,"META",{name:!0,content:!0}),T=v(D,"META",{name:!0,content:!0}),L=v(D,"META",{name:!0,content:!0}),P=v(D,"META",{name:!0,content:!0}),O=v(D,"META",{name:!0,content:!0}),q=v(D,"LINK",{rel:!0,href:!0}),M=v(D,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),I=v(D,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),D.forEach(u),this.h()},h(){_(t,"charset","utf-8"),_(r,"name","viewport"),_(r,"content","width=device-width, initial-scale=1.0"),_(a,"http-equiv","Content-Type"),_(a,"content","text/html; charset=utf-8"),_(s,"name","description"),_(s,"content",n[1]),_(l,"name","author"),_(l,"content","The Pudding"),_(i,"name","news_keywords"),_(i,"content","allergies, sesame, falcpa"),_(o,"property","og:title"),_(o,"content",n[0]),_(d,"property","og:site_name"),_(d,"content","The Pudding"),_(c,"property","og:url"),_(c,"content",n[2]),_(b,"property","og:description"),_(b,"content",n[1]),_(y,"property","og:type"),_(y,"content","article"),_(f,"property","og:locale"),_(f,"content","en_US"),_(z,"property","og:image"),_(z,"content",k=""+(n[2]+"/assets/social-facebook.jpg")),_(m,"property","og:image:type"),_(m,"content","image/jpeg"),_(h,"property","og:image:width"),_(h,"content","1200"),_(g,"property","og:image:height"),_(g,"content","600"),_(E,"name","twitter:card"),_(E,"content","summary_large_image"),_(B,"name","twitter:site"),_(B,"content","https://pudding.cool"),_(p,"name","twitter:creator"),_(p,"content","@puddingviz"),_(T,"name","twitter:title"),_(T,"content",n[0]),_(L,"name","twitter:description"),_(L,"content",n[1]),_(P,"name","twitter:image:src"),_(P,"content",W=""+(n[2]+"/assets/social-twitter.jpg")),_(O,"name","robots"),_(O,"content","max-image-preview:large"),_(q,"rel","canonical"),_(q,"href",C=""+(n[2]+"/")),_(M,"rel","preload"),_(M,"href","https://pudding.cool/assets/fonts/cozette/CozetteVector.woff2"),_(M,"as","font"),_(M,"type","font/woff2"),_(M,"crossorigin",""),_(I,"rel","preload"),_(I,"href","https://pudding.cool/assets/fonts/atkinson/atkinson-hyperlegible-v1-latin-400.woff2"),_(I,"as","font"),_(I,"type","font/woff2"),_(I,"crossorigin","")},m(S,D){x(document.head,t),x(document.head,r),x(document.head,a),x(document.head,s),x(document.head,l),x(document.head,i),x(document.head,o),x(document.head,d),x(document.head,c),x(document.head,b),x(document.head,y),x(document.head,f),x(document.head,z),x(document.head,m),x(document.head,h),x(document.head,g),x(document.head,E),x(document.head,B),x(document.head,p),x(document.head,T),x(document.head,L),x(document.head,P),x(document.head,O),x(document.head,q),x(document.head,M),x(document.head,I)},p(S,[D]){D&1&&e!==(e=S[0])&&(document.title=e),D&2&&_(s,"content",S[1]),D&1&&_(o,"content",S[0]),D&4&&_(c,"content",S[2]),D&2&&_(b,"content",S[1]),D&4&&k!==(k=""+(S[2]+"/assets/social-facebook.jpg"))&&_(z,"content",k),D&1&&_(T,"content",S[0]),D&2&&_(L,"content",S[1]),D&4&&W!==(W=""+(S[2]+"/assets/social-twitter.jpg"))&&_(P,"content",W),D&4&&C!==(C=""+(S[2]+"/"))&&_(q,"href",C)},i:V,o:V,d(S){u(t),u(r),u(a),u(s),u(l),u(i),u(o),u(d),u(c),u(b),u(y),u(f),u(z),u(m),u(h),u(g),u(E),u(B),u(p),u(T),u(L),u(P),u(O),u(q),u(M),u(I)}}}function Qt(n,e,t){let{title:r="The Hidden Layers of Sesame Allergies"}=e,{description:a="Description TK"}=e,{url:s="https://pudding.cool"}=e;return n.$$set=l=>{"title"in l&&t(0,r=l.title),"description"in l&&t(1,a=l.description),"url"in l&&t(2,s=l.url)},[r,a,s]}class Zt extends ae{constructor(e){super();le(this,e,Qt,Jt,Z,{title:0,description:1,url:2})}}function Ve(n){let e,t=n[2][0]+"",r,a,s,l=n[2][1]+"",i;return{c(){e=w("span"),r=J(t),a=H(),s=w("span"),i=J(l),this.h()},l(o){e=v(o,"SPAN",{class:!0});var d=A(e);r=Q(d,t),d.forEach(u),a=G(o),s=v(o,"SPAN",{class:!0});var c=A(s);i=Q(c,l),c.forEach(u),this.h()},h(){_(e,"class","svelte-1mknzni"),_(s,"class","svelte-1mknzni")},m(o,d){U(o,e,d),x(e,r),U(o,a,d),U(o,s,d),x(s,i)},p(o,d){d&4&&t!==(t=o[2][0]+"")&&xe(r,t),d&4&&l!==(l=o[2][1]+"")&&xe(i,l)},d(o){o&&u(e),o&&u(a),o&&u(s)}}}function $t(n){let e,t,r,a,s,l,i,o,d=n[1]==="inner"&&Ve(n);return{c(){e=w("div"),t=w("span"),r=J(n[0]),a=H(),s=w("button"),d&&d.c(),this.h()},l(c){e=v(c,"DIV",{class:!0});var b=A(e);t=v(b,"SPAN",{class:!0,id:!0});var y=A(t);r=Q(y,n[0]),y.forEach(u),a=G(b),s=v(b,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var f=A(s);d&&d.l(f),f.forEach(u),b.forEach(u),this.h()},h(){_(t,"class","label svelte-1mknzni"),_(t,"id",n[4]),_(s,"role","switch"),_(s,"aria-checked",n[3]),_(s,"aria-labelledby",n[4]),_(s,"class","svelte-1mknzni"),_(e,"class",l="toggle toggle--"+n[1]+" svelte-1mknzni")},m(c,b){U(c,e,b),x(e,t),x(t,r),x(e,a),x(e,s),d&&d.m(s,null),i||(o=fe(s,"click",n[5]),i=!0)},p(c,[b]){b&1&&xe(r,c[0]),c[1]==="inner"?d?d.p(c,b):(d=Ve(c),d.c(),d.m(s,null)):d&&(d.d(1),d=null),b&8&&_(s,"aria-checked",c[3]),b&2&&l!==(l="toggle toggle--"+c[1]+" svelte-1mknzni")&&_(e,"class",l)},i:V,o:V,d(c){c&&u(e),d&&d.d(),i=!1,o()}}}function er(n,e,t){let{label:r}=e,{style:a="inner"}=e,{options:s=["on","off"]}=e,{value:l=s[0]}=e,i=l===s[0];const o=`toggle-${Math.floor(Math.random()*1e6)}`,d=c=>{const y=c.target.getAttribute("aria-checked");t(3,i=y!=="true"),t(6,l=i?s[0]:s[1])};return n.$$set=c=>{"label"in c&&t(0,r=c.label),"style"in c&&t(1,a=c.style),"options"in c&&t(2,s=c.options),"value"in c&&t(6,l=c.value)},[r,a,s,i,o,d,l]}class tr extends ae{constructor(e){super();le(this,e,er,$t,Z,{label:0,style:1,options:2,value:6})}}function je(n,e,t){const r=n.slice();return r[5]=e[t],r}function Ke(n,e,t){const r=n.slice();return r[8]=e[t].hed,r[2]=e[t].url,r[9]=e[t].image,r}function Ye(n){let e,t,r,a,s,l,i=n[8]+"",o,d,c;return{c(){e=w("div"),t=w("a"),r=w("img"),s=H(),l=w("span"),o=J(i),c=H(),this.h()},l(b){e=v(b,"DIV",{class:!0});var y=A(e);t=v(y,"A",{href:!0,class:!0});var f=A(t);r=v(f,"IMG",{src:!0,alt:!0}),s=G(f),l=v(f,"SPAN",{class:!0});var z=A(l);o=Q(z,i),z.forEach(u),f.forEach(u),c=G(y),y.forEach(u),this.h()},h(){Ue(r.src,a="https://pudding.cool/common/assets/thumbnails/640/"+n[9]+".jpg")||_(r,"src",a),_(r,"alt","thumbnail"),_(l,"class","svelte-phi1xg"),_(t,"href",d="https://pudding.cool/"+n[2]),_(t,"class","svelte-phi1xg"),_(e,"class","story svelte-phi1xg")},m(b,y){U(b,e,y),x(e,t),x(t,r),x(t,s),x(t,l),x(l,o),x(e,c)},p(b,y){y&1&&!Ue(r.src,a="https://pudding.cool/common/assets/thumbnails/640/"+b[9]+".jpg")&&_(r,"src",a),y&1&&i!==(i=b[8]+"")&&xe(o,i),y&1&&d!==(d="https://pudding.cool/"+b[2])&&_(t,"href",d)},d(b){b&&u(e)}}}function Xe(n){let e,t,r,a=n[5].name.toUpperCase()+"",s,l,i;return{c(){e=w("li"),t=w("a"),r=w("span"),s=J(a),i=H(),this.h()},l(o){e=v(o,"LI",{class:!0});var d=A(e);t=v(d,"A",{href:!0,class:!0});var c=A(t);r=v(c,"SPAN",{class:!0});var b=A(r);s=Q(b,a),b.forEach(u),c.forEach(u),i=G(d),d.forEach(u),this.h()},h(){_(r,"class","svelte-phi1xg"),_(t,"href",l=n[5].url),_(t,"class","svelte-phi1xg"),_(e,"class","svelte-phi1xg")},m(o,d){U(o,e,d),x(e,t),x(t,r),x(r,s),x(e,i)},p:V,d(o){o&&u(e)}}}function rr(n){let e,t,r,a,s,l,i,o,d,c,b,y=n[0],f=[];for(let m=0;m<y.length;m+=1)f[m]=Ye(Ke(n,y,m));let z=n[1],k=[];for(let m=0;m<z.length;m+=1)k[m]=Xe(je(n,z,m));return{c(){e=w("footer"),t=w("section");for(let m=0;m<f.length;m+=1)f[m].c();r=H(),a=w("section"),s=w("p"),l=w("a"),i=J("The Pudding"),o=J(`
      is a digital publication that explains ideas debated in culture with visual essays.`),d=H(),c=w("section"),b=w("ul");for(let m=0;m<k.length;m+=1)k[m].c();this.h()},l(m){e=v(m,"FOOTER",{class:!0});var h=A(e);t=v(h,"SECTION",{class:!0});var g=A(t);for(let P=0;P<f.length;P+=1)f[P].l(g);g.forEach(u),r=G(h),a=v(h,"SECTION",{class:!0});var E=A(a);s=v(E,"P",{});var B=A(s);l=v(B,"A",{href:!0,class:!0});var p=A(l);i=Q(p,"The Pudding"),p.forEach(u),o=Q(B,`
      is a digital publication that explains ideas debated in culture with visual essays.`),B.forEach(u),E.forEach(u),d=G(h),c=v(h,"SECTION",{class:!0});var T=A(c);b=v(T,"UL",{class:!0});var L=A(b);for(let P=0;P<k.length;P+=1)k[P].l(L);L.forEach(u),T.forEach(u),h.forEach(u),this.h()},h(){_(t,"class","stories svelte-phi1xg"),_(l,"href","https://pudding.cool"),_(l,"class","svelte-phi1xg"),_(a,"class","about svelte-phi1xg"),_(b,"class","svelte-phi1xg"),_(c,"class","links svelte-phi1xg"),_(e,"class","svelte-phi1xg")},m(m,h){U(m,e,h),x(e,t);for(let g=0;g<f.length;g+=1)f[g].m(t,null);x(e,r),x(e,a),x(a,s),x(s,l),x(l,i),x(s,o),x(e,d),x(e,c),x(c,b);for(let g=0;g<k.length;g+=1)k[g].m(b,null)},p(m,[h]){if(h&1){y=m[0];let g;for(g=0;g<y.length;g+=1){const E=Ke(m,y,g);f[g]?f[g].p(E,h):(f[g]=Ye(E),f[g].c(),f[g].m(t,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=y.length}if(h&2){z=m[1];let g;for(g=0;g<z.length;g+=1){const E=je(m,z,g);k[g]?k[g].p(E,h):(k[g]=Xe(E),k[g].c(),k[g].m(b,null))}for(;g<k.length;g+=1)k[g].d(1);k.length=z.length}},i:V,o:V,d(m){m&&u(e),ie(f,m),ie(k,m)}}}function nr(n,e,t){let r,a=[];const l=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`,i=[{name:"about",url:"https://pudding.cool/about"},{name:"facebook",url:"https://facebook.com/pudding.viz/"},{name:"twitter",url:"https://twitter.com/puddingviz/"},{name:"instagram",url:"https://www.instagram.com/the.pudding"},{name:"patreon",url:"https://patreon.com/thepudding/"},{name:"privacy",url:"https://pudding.cool/privacy/"},{name:"newsletter",url:"http://eepurl.com/czym6f"},{name:"rss",url:"https://pudding.cool/feed/index.xml"}];return Ae(async()=>{r=window.location.href;const d=await(await fetch(l)).json(),c=d.find(k=>r.includes(k.url)),b=c?c.topic:"culture",y=d.filter(k=>!r.includes(k.url)),f=y.filter(k=>k.topic!==b),z=y.filter(k=>k.topic===b);a.push(...f.slice(0,2)),z.length>1?(a.push(z[0]),a.push(z[Math.ceil(Math.random()*(z.length-1))])):a.push(...f.slice(2,4)),t(0,a)}),[a,i,l]}class Je extends ae{constructor(e){super();le(this,e,nr,rr,Z,{})}}function Qe(n,e,t){const r=n.slice();return r[2]=e[t].value,r}function Ze(n,e,t){const r=n.slice();return r[5]=e[t].scene,r[6]=e[t].setting,r[7]=e[t].beats,r}function $e(n,e,t){const r=n.slice();return r[16]=e[t].text,r[17]=e[t].alt,r[18]=e[t].deep,r}function et(n,e,t){const r=n.slice();return r[10]=e[t].type,r[2]=e[t].value,r}function tt(n,e,t){const r=n.slice();return r[13]=e[t],r}function ar(n){let e,t=n[7].filter(ot),r=[];for(let a=0;a<t.length;a+=1)r[a]=rt($e(n,t,a));return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=$()},l(a){for(let s=0;s<r.length;s+=1)r[s].l(a);e=$()},m(a,s){for(let l=0;l<r.length;l+=1)r[l].m(a,s);U(a,e,s)},p(a,s){if(s&2){t=a[7].filter(ot);let l;for(l=0;l<t.length;l+=1){const i=$e(a,t,l);r[l]?r[l].p(i,s):(r[l]=rt(i),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(a){ie(r,a),a&&u(e)}}}function lr(n){let e,t=n[1].outro,r=[];for(let a=0;a<t.length;a+=1)r[a]=at(et(n,t,a));return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=$()},l(a){for(let s=0;s<r.length;s+=1)r[s].l(a);e=$()},m(a,s){for(let l=0;l<r.length;l+=1)r[l].m(a,s);U(a,e,s)},p(a,s){if(s&2){t=a[1].outro;let l;for(l=0;l<t.length;l+=1){const i=et(a,t,l);r[l]?r[l].p(i,s):(r[l]=at(i),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(a){ie(r,a),a&&u(e)}}}function sr(n){let e,t=n[16]+"";return{c(){e=w("p"),this.h()},l(r){e=v(r,"P",{class:!0});var a=A(e);a.forEach(u),this.h()},h(){_(e,"class","svelte-ekxu5r")},m(r,a){U(r,e,a),e.innerHTML=t},p:V,d(r){r&&u(e)}}}function ir(n){let e,t=n[17]+"";return{c(){e=w("p"),this.h()},l(r){e=v(r,"P",{class:!0});var a=A(e);a.forEach(u),this.h()},h(){_(e,"class","svelte-ekxu5r")},m(r,a){U(r,e,a),e.innerHTML=t},p:V,d(r){r&&u(e)}}}function or(n){let e,t,r,a,s,l=n[18]+"";return{c(){e=w("details"),t=w("summary"),r=J("More Info"),a=H(),s=w("p"),this.h()},l(i){e=v(i,"DETAILS",{});var o=A(e);t=v(o,"SUMMARY",{});var d=A(t);r=Q(d,"More Info"),d.forEach(u),a=G(o),s=v(o,"P",{class:!0});var c=A(s);c.forEach(u),o.forEach(u),this.h()},h(){_(s,"class","svelte-ekxu5r")},m(i,o){U(i,e,o),x(e,t),x(t,r),x(e,a),x(e,s),s.innerHTML=l},p:V,d(i){i&&u(e)}}}function rt(n){let e,t;function r(i,o){return i[17]?ir:sr}let s=r(n)(n),l=n[18]&&or(n);return{c(){e=w("div"),s.c(),t=H(),l&&l.c(),this.h()},l(i){e=v(i,"DIV",{class:!0});var o=A(e);s.l(o),t=G(o),l&&l.l(o),o.forEach(u),this.h()},h(){_(e,"class","beat svelte-ekxu5r")},m(i,o){U(i,e,o),s.m(e,null),x(e,t),l&&l.m(e,null)},p(i,o){s.p(i,o),i[18]&&l.p(i,o)},d(i){i&&u(e),s.d(),l&&l.d()}}}function dr(n){let e,t,r=n[2]+"";return{c(){e=w("div"),t=w("p"),this.h()},l(a){e=v(a,"DIV",{class:!0});var s=A(e);t=v(s,"P",{class:!0});var l=A(t);l.forEach(u),s.forEach(u),this.h()},h(){_(t,"class","svelte-ekxu5r"),_(e,"class","beat svelte-ekxu5r")},m(a,s){U(a,e,s),x(e,t),t.innerHTML=r},p:V,d(a){a&&u(e)}}}function cr(n){let e,t=n[2],r=[];for(let a=0;a<t.length;a+=1)r[a]=nt(tt(n,t,a));return{c(){e=w("ul");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=v(a,"UL",{class:!0});var s=A(e);for(let l=0;l<r.length;l+=1)r[l].l(s);s.forEach(u),this.h()},h(){_(e,"class","beat svelte-ekxu5r")},m(a,s){U(a,e,s);for(let l=0;l<r.length;l+=1)r[l].m(e,null)},p(a,s){if(s&2){t=a[2];let l;for(l=0;l<t.length;l+=1){const i=tt(a,t,l);r[l]?r[l].p(i,s):(r[l]=nt(i),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(a){a&&u(e),ie(r,a)}}}function nt(n){let e,t=n[13]+"";return{c(){e=w("li")},l(r){e=v(r,"LI",{});var a=A(e);a.forEach(u)},m(r,a){U(r,e,a),e.innerHTML=t},p:V,d(r){r&&u(e)}}}function at(n){let e;function t(s,l){return s[10]==="list"?cr:dr}let a=t(n)(n);return{c(){a.c(),e=$()},l(s){a.l(s),e=$()},m(s,l){a.m(s,l),U(s,e,l)},p(s,l){a.p(s,l)},d(s){a.d(s),s&&u(e)}}}function lt(n){let e,t;function r(l,i){return l[5]==="outro"?lr:ar}let s=r(n)(n);return{c(){e=w("section"),s.c(),this.h()},l(l){e=v(l,"SECTION",{id:!0,class:!0});var i=A(e);s.l(i),i.forEach(u),this.h()},h(){_(e,"id",t=n[5]),_(e,"class","svelte-ekxu5r")},m(l,i){U(l,e,i),s.m(e,null)},p(l,i){s.p(l,i)},d(l){l&&u(e),s.d()}}}function st(n){let e,t=n[2]+"";return{c(){e=w("p"),this.h()},l(r){e=v(r,"P",{class:!0});var a=A(e);a.forEach(u),this.h()},h(){_(e,"class","svelte-ekxu5r")},m(r,a){U(r,e,a),e.innerHTML=t},p:V,d(r){r&&u(e)}}}function it(n){let e,t;return e=new Je({}),{c(){ee(e.$$.fragment)},l(r){te(e.$$.fragment,r)},m(r,a){re(e,r,a),t=!0},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){F(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function ur(n){let e,t,r,a=n[1].title+"",s,l,i,o,d,c,b,y,f,z,k,m,h,g,E,B,p,T,L,P=n[1].scenes,W=[];for(let M=0;M<P.length;M+=1)W[M]=lt(Ze(n,P,M));let O=n[1].method,q=[];for(let M=0;M<O.length;M+=1)q[M]=st(Qe(n,O,M));let C=n[0]&&it();return{c(){e=w("article"),t=w("div"),r=w("h1"),s=J(a),l=H(),i=w("p"),o=J("By "),d=w("a"),c=J("Russell Goldenberg"),b=J(` and
      `),y=w("a"),f=J("Michelle McGhee"),z=H();for(let M=0;M<W.length;M+=1)W[M].c();k=H(),m=w("div"),h=w("details"),g=w("summary"),E=J("Data and Methods"),B=H();for(let M=0;M<q.length;M+=1)q[M].c();p=H(),C&&C.c(),T=$(),this.h()},l(M){e=v(M,"ARTICLE",{class:!0});var I=A(e);t=v(I,"DIV",{class:!0});var S=A(t);r=v(S,"H1",{});var D=A(r);s=Q(D,a),D.forEach(u),l=G(S),i=v(S,"P",{class:!0});var se=A(i);o=Q(se,"By "),d=v(se,"A",{href:!0});var ue=A(d);c=Q(ue,"Russell Goldenberg"),ue.forEach(u),b=Q(se,` and
      `),y=v(se,"A",{href:!0});var pe=A(y);f=Q(pe,"Michelle McGhee"),pe.forEach(u),se.forEach(u),S.forEach(u),z=G(I);for(let K=0;K<W.length;K+=1)W[K].l(I);k=G(I),m=v(I,"DIV",{class:!0});var ye=A(m);h=v(ye,"DETAILS",{});var R=A(h);g=v(R,"SUMMARY",{});var X=A(g);E=Q(X,"Data and Methods"),X.forEach(u),B=G(R);for(let K=0;K<q.length;K+=1)q[K].l(R);R.forEach(u),ye.forEach(u),I.forEach(u),p=G(M),C&&C.l(M),T=$(),this.h()},h(){_(d,"href","https://pudding.cool/author/russell-goldenberg"),_(y,"href","https://pudding.cool/author/michelle-mcghee"),_(i,"class","svelte-ekxu5r"),_(t,"class","beat svelte-ekxu5r"),_(m,"class","beat svelte-ekxu5r"),_(e,"class","svelte-ekxu5r"),Y(e,"visible",n[0])},m(M,I){U(M,e,I),x(e,t),x(t,r),x(r,s),x(t,l),x(t,i),x(i,o),x(i,d),x(d,c),x(i,b),x(i,y),x(y,f),x(e,z);for(let S=0;S<W.length;S+=1)W[S].m(e,null);x(e,k),x(e,m),x(m,h),x(h,g),x(g,E),x(h,B);for(let S=0;S<q.length;S+=1)q[S].m(h,null);U(M,p,I),C&&C.m(M,I),U(M,T,I),L=!0},p(M,[I]){if(I&2){P=M[1].scenes;let S;for(S=0;S<P.length;S+=1){const D=Ze(M,P,S);W[S]?W[S].p(D,I):(W[S]=lt(D),W[S].c(),W[S].m(e,k))}for(;S<W.length;S+=1)W[S].d(1);W.length=P.length}if(I&2){O=M[1].method;let S;for(S=0;S<O.length;S+=1){const D=Qe(M,O,S);q[S]?q[S].p(D,I):(q[S]=st(D),q[S].c(),q[S].m(h,null))}for(;S<q.length;S+=1)q[S].d(1);q.length=O.length}I&1&&Y(e,"visible",M[0]),M[0]?C?I&1&&N(C,1):(C=it(),C.c(),N(C,1),C.m(T.parentNode,T)):C&&(oe(),F(C,1,1,()=>{C=null}),de())},i(M){L||(N(C),L=!0)},o(M){F(C),L=!1},d(M){M&&u(e),ie(W,M),ie(q,M),M&&u(p),C&&C.d(M),M&&u(T)}}}const ot=n=>!n.hide;function _r(n,e,t){const{copy:r}=we("App");let{visible:a}=e;return n.$$set=s=>{"visible"in s&&t(0,a=s.visible)},[a,r]}class fr extends ae{constructor(e){super();le(this,e,_r,ur,Z,{visible:0})}}var hr=Re({width:0,height:0},n=>{const e=()=>n({width:window.innerWidth,height:window.innerHeight});return e(),window.addEventListener("resize",Bt(e,250)),()=>{window.removeEventListener("resize",e)}});function pr(n,...e){const t=n(...e);let r,a;return{promise:new Promise((l,i)=>{a=()=>{r=!0,i({reason:"cancelled"})},o();function o(b){if(!r){let y;try{y=t.next(b)}catch(f){return i(f)}return c(y),null}}function d(b){var y;try{y=t.throw(b)}catch(f){return i(f)}c(y)}function c({done:b,value:y}){return b?l(y):y.then(o,d)}}),cancel:a}}function yr(n){let e;return{c(){e=w("div"),this.h()},l(t){e=v(t,"DIV",{style:!0,class:!0}),A(e).forEach(u),this.h()},h(){j(e,"background-image","url("+n[7]+")"),j(e,"background-position",n[6]),j(e,"background-size",n[5]),j(e,"transform",n[4]),j(e,"width",n[3]),j(e,"height",n[2]),j(e,"z-index",n[1]),_(e,"class","svelte-270wo1")},m(t,r){U(t,e,r)},p(t,r){r[0]&128&&j(e,"background-image","url("+t[7]+")"),r[0]&64&&j(e,"background-position",t[6]),r[0]&32&&j(e,"background-size",t[5]),r[0]&16&&j(e,"transform",t[4]),r[0]&8&&j(e,"width",t[3]),r[0]&4&&j(e,"height",t[2]),r[0]&2&&j(e,"z-index",t[1])},i:V,o:V,d(t){t&&u(e)}}}const mr=100;function gr(n,e,t){let r,a,s,l,i,o,d,c,b,y,f,z,k,m,h=V,g=()=>(h(),h=Nt(W,R=>t(21,m=R)),W);n.$$.on_destroy.push(()=>h());let{name:E}=e,{steps:B}=e,{data:p}=e,{id:T}=e;const{scale:L,BASE:P}=we("Game");he(n,L,R=>t(20,k=R));let W=Le({x:10,y:0,r:0});g();let O,q=0,C,M;const I=R=>new Promise(X=>{setTimeout(X,R)}),S=(R,X)=>Object.keys(R).filter(K=>K.includes(X)).reduce((K,_e)=>(K[_e.replace(X,"")]=R[_e]||0,K),{}),D=async R=>{const X=S(R,"start_"),K=S(R,"end_"),{duration:_e}=R;g(t(0,W=Le(X,{duration:_e}))),await W.set(K)},se=R=>{const X=S(R,"start_");W.set(X,{duration:0})},ue=R=>{const X=p.frames.filter(_e=>_e.name===R.cycle);if(se(R),!X.length){t(13,q=0);return}t(13,q=X[0].index);let K=0;O=setInterval(()=>{K+=1,K>=X.length&&(R.once?(K-=1,clearInterval(O)):K=0),t(13,q=X[K].index)},mr)};function*pe(){for(let R of B)R.delay&&(yield I(R.delay)),O&&clearInterval(O),t(14,C=R.flip),t(15,M=R.z),ue(R),R.duration&&(yield D(R)),R.loop&&B.push(be({},R))}const ye=()=>{r&&r();const{promise:R,cancel:X}=pr(pe);return R.then(()=>{}).catch(()=>{}),X};return Ae(()=>()=>{O&&clearInterval(O)}),n.$$set=R=>{"name"in R&&t(9,E=R.name),"steps"in R&&t(10,B=R.steps),"data"in R&&t(11,p=R.data),"id"in R&&t(12,T=R.id)},n.$$.update=()=>{n.$$.dirty[0]&4096&&(r=ye()),n.$$.dirty[0]&10240&&t(19,a=p.frames.find(R=>R.index===q)),n.$$.dirty[0]&3145728&&t(18,s=`${Math.round(m.x*k*P)}px`),n.$$.dirty[0]&3145728&&t(17,l=`${Math.round(m.y*k*P*-1)}px`),n.$$.dirty[0]&16384&&t(16,i=C?-1:1),n.$$.dirty[0]&512&&t(7,o=`${Xt}/assets/sprites2x/${E}@2x.png`),n.$$.dirty[0]&1572864&&t(6,d=`${k*a.x*-1}px ${k*a.y*-1}px`),n.$$.dirty[0]&2048&&t(5,c=`calc(100% * ${p.cols}) calc(100% * ${p.rows})`),n.$$.dirty[0]&458752&&t(4,b=`translate3d(${s}, ${l}, 0) scaleX(${i})`),n.$$.dirty[0]&1050624&&t(3,y=`${p.size*k}px`),n.$$.dirty[0]&1050624&&t(2,f=`${p.size*k}px`),n.$$.dirty[0]&32768&&t(1,z=M||1)},[W,z,f,y,b,c,d,o,L,E,B,p,T,q,C,M,i,l,s,a,k,m]}class br extends ae{constructor(e){super();le(this,e,gr,yr,Z,{name:9,steps:10,data:11,id:12},null,[-1,-1])}}function dt(n){let e,t,r=n[2].contents+"",a,s=[n[2].attrs,{style:a="width: "+n[0]+"; height: "+n[1]+"; transform: rotate("+n[3]+"deg);"}],l={};for(let i=0;i<s.length;i+=1)l=qe(l,s[i]);return{c(){e=Pe("svg"),t=Pe("g"),this.h()},l(i){e=We(i,"svg",{style:!0});var o=A(e);t=We(o,"g",{});var d=A(t);d.forEach(u),o.forEach(u),this.h()},h(){Be(e,l),Y(e,"svelte-x4av39",!0)},m(i,o){U(i,e,o),x(e,t),t.innerHTML=r},p(i,o){o&4&&r!==(r=i[2].contents+"")&&(t.innerHTML=r),Be(e,l=Ne(s,[o&4&&i[2].attrs,o&11&&a!==(a="width: "+i[0]+"; height: "+i[1]+"; transform: rotate("+i[3]+"deg);")&&{style:a}])),Y(e,"svelte-x4av39",!0)},d(i){i&&u(e)}}}function xr(n){let e,t=n[2]&&dt(n);return{c(){t&&t.c(),e=$()},l(r){t&&t.l(r),e=$()},m(r,a){t&&t.m(r,a),U(r,e,a)},p(r,[a]){r[2]?t?t.p(r,a):(t=dt(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(r){t&&t.d(r),r&&u(e)}}}function wr(n,e,t){let r,a;const s=["n","ne","e","se","s","sw","w","nw"];let{name:l}=e,{direction:i="n"}=e,{width:o="1em"}=e,{height:d="1em"}=e,{stroke:c=void 0}=e,{strokeWidth:b=void 0}=e;return n.$$set=y=>{"name"in y&&t(5,l=y.name),"direction"in y&&t(6,i=y.direction),"width"in y&&t(0,o=y.width),"height"in y&&t(1,d=y.height),"stroke"in y&&t(7,c=y.stroke),"strokeWidth"in y&&t(8,b=y.strokeWidth)},n.$$.update=()=>{n.$$.dirty&32&&t(2,r=qt.icons[l]),n.$$.dirty&64&&t(3,a=s.indexOf(i)*45),n.$$.dirty&388&&r&&(c&&t(2,r.attrs.stroke=c,r),b&&t(2,r.attrs["stroke-width"]=b,r))},[o,d,r,a,s,l,i,c,b]}class ct extends ae{constructor(e){super();le(this,e,wr,xr,Z,{directions:4,name:5,direction:6,width:0,height:1,stroke:7,strokeWidth:8})}get directions(){return this.$$.ctx[4]}}function vr(n){let e,t,r,a,s,l,i,o,d,c,b;return o=new ct({props:{name:"x"}}),{c(){e=w("button"),t=H(),r=w("div"),a=w("p"),s=new Ct,l=H(),i=w("button"),ee(o.$$.fragment),this.h()},l(y){e=v(y,"BUTTON",{class:!0,style:!0}),A(e).forEach(u),t=G(y),r=v(y,"DIV",{class:!0});var f=A(r);a=v(f,"P",{class:!0});var z=A(a);s=Ft(z),l=G(z),i=v(z,"BUTTON",{class:!0});var k=A(i);te(o.$$.fragment,k),k.forEach(u),z.forEach(u),f.forEach(u),this.h()},h(){_(e,"class","pulse svelte-aumzxv"),_(e,"style",n[3]),Y(e,"front",n[2]),s.a=l,_(i,"class","x svelte-aumzxv"),_(a,"class","svelte-aumzxv"),_(r,"class","svelte-aumzxv"),Y(r,"visible",n[0])},m(y,f){U(y,e,f),U(y,t,f),U(y,r,f),x(r,a),s.m(n[1],a),x(a,l),x(a,i),re(o,i,null),d=!0,c||(b=[fe(e,"click",n[15]),fe(r,"click",n[16])],c=!0)},p(y,[f]){(!d||f&8)&&_(e,"style",y[3]),f&4&&Y(e,"front",y[2]),(!d||f&2)&&s.p(y[1]),f&1&&Y(r,"visible",y[0])},i(y){d||(N(o.$$.fragment,y),d=!0)},o(y){F(o.$$.fragment,y),d=!1},d(y){y&&u(e),y&&u(t),y&&u(r),ne(o),c=!1,Ce(b)}}}function kr(n,e,t){let r,a,s,l,i,o,d,c,{x:b}=e,{y}=e,{deep:f}=e,{delay:z=0}=e,{front:k=!1}=e,{visible:m=!1}=e;const{scale:h,BASE:g}=we("Game");he(n,h,p=>t(14,c=p));const E=()=>t(0,m=!m),B=()=>t(0,m=!1);return n.$$set=p=>{"x"in p&&t(5,b=p.x),"y"in p&&t(6,y=p.y),"deep"in p&&t(1,f=p.deep),"delay"in p&&t(7,z=p.delay),"front"in p&&t(2,k=p.front),"visible"in p&&t(0,m=p.visible)},n.$$.update=()=>{n.$$.dirty&16416&&t(12,r=Math.round(b*c*g)),n.$$.dirty&16448&&t(11,a=Math.round(y*c*g)),n.$$.dirty&2&&t(0,m=!1),n.$$.dirty&16384&&t(13,s=Math.round(c*g)),n.$$.dirty&8192&&t(10,l=`--size: ${s}px;`),n.$$.dirty&6144&&t(9,i=`--transform: translate3d(${r}px, -${a}px, 0);`),n.$$.dirty&128&&t(8,o=`--delay: ${z}ms`),n.$$.dirty&1792&&t(3,d=`${l} ${i} ${o}`)},[m,f,k,d,h,b,y,z,o,i,l,a,r,s,c,E,B]}class zr extends ae{constructor(e){super();le(this,e,kr,vr,Z,{x:5,y:6,deep:1,delay:7,front:2,visible:0})}}const ut={sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)",xl:"(min-width: 1280px)",reducedMotion:"(prefers-reduced-motion: reduce)"};function Er(n){const e={classNames:""},t=[];for(let r in n)e[r]=n[r].matches,e[r]&&t.push(`mq-${r}`);return e.classNames=t.join(" "),e}var _t=Re({},n=>{const e={},t=()=>n(Er(e));{for(let r in ut)e[r]=window.matchMedia(ut[r]),e[r].addListener(t);t()}return()=>{for(let r in e)e[r].removeListener(t)}});function ft(n){let e,t,r,a,s;return{c(){e=w("div"),t=w("p"),this.h()},l(l){e=v(l,"DIV",{class:!0});var i=A(e);t=v(i,"P",{class:!0});var o=A(t);o.forEach(u),i.forEach(u),this.h()},h(){_(t,"class","svelte-1pql8iy"),Y(t,"center",n[2]),_(e,"class","svelte-1pql8iy")},m(l,i){U(l,e,i),x(e,t),t.innerHTML=n[0],n[6](t),s=!0},p(l,i){(!s||i&1)&&(t.innerHTML=l[0]),i&4&&Y(t,"center",l[2])},i(l){s||(me(()=>{a&&a.end(1),r=ve(e,ce,{delay:500,duration:250}),r.start()}),s=!0)},o(l){r&&r.invalidate(),a=ke(e,ce,{duration:50}),s=!1},d(l){l&&u(e),n[6](null),l&&a&&a.end()}}}function Tr(n){let e=n[0],t,r,a=ft(n);return{c(){a.c(),t=$()},l(s){a.l(s),t=$()},m(s,l){a.m(s,l),U(s,t,l),r=!0},p(s,[l]){l&1&&Z(e,e=s[0])?(oe(),F(a,1,1,V),de(),a=ft(s),a.c(),N(a),a.m(t.parentNode,t)):a.p(s,l)},i(s){r||(N(a),r=!0)},o(s){F(a),r=!1},d(s){s&&u(t),a.d(s)}}}function Ar(n,e,t){let r,a,s;he(n,_t,c=>t(5,s=c));let{text:l}=e,i,o=!1;function d(c){Se[c?"unshift":"push"](()=>{i=c,t(1,i)})}return n.$$set=c=>{"text"in c&&t(0,l=c.text)},n.$$.update=()=>{n.$$.dirty&32&&t(4,r=!s.lg),n.$$.dirty&16&&t(3,a=r?45:60),n.$$.dirty&10&&i&&t(2,o=i.innerText.length<a)},[l,i,o,a,r,s,d]}class Sr extends ae{constructor(e){super();le(this,e,Ar,Tr,Z,{text:0})}}function ht(n,e,t){const r=n.slice();return r[18]=e[t],r}function pt(n){let e,t;return{c(){e=w("span"),t=J("Start"),this.h()},l(r){e=v(r,"SPAN",{class:!0});var a=A(e);t=Q(a,"Start"),a.forEach(u),this.h()},h(){_(e,"class","label svelte-nsa7dq")},m(r,a){U(r,e,a),x(e,t)},d(r){r&&u(e)}}}function yt(n){let e,t;return{c(){e=w("span"),t=J("Story"),this.h()},l(r){e=v(r,"SPAN",{class:!0});var a=A(e);t=Q(a,"Story"),a.forEach(u),this.h()},h(){_(e,"class","label svelte-nsa7dq")},m(r,a){U(r,e,a),x(e,t)},d(r){r&&u(e)}}}function mt(n){let e,t,r;return t=new ct({props:{name:"chevron-"+n[18],stroke:n[5],strokeWidth:n[6]}}),{c(){e=w("span"),ee(t.$$.fragment),this.h()},l(a){e=v(a,"SPAN",{style:!0,class:!0});var s=A(e);te(t.$$.fragment,s),s.forEach(u),this.h()},h(){j(e,"font-size",n[4]),_(e,"class","svelte-nsa7dq")},m(a,s){U(a,e,s),re(t,e,null),r=!0},p(a,s){const l={};s&8&&(l.name="chevron-"+a[18]),s&32&&(l.stroke=a[5]),s&64&&(l.strokeWidth=a[6]),t.$set(l),(!r||s&16)&&j(e,"font-size",a[4])},i(a){r||(N(t.$$.fragment,a),r=!0)},o(a){F(t.$$.fragment,a),r=!1},d(a){a&&u(e),ne(t)}}}function gt(n){let e,t=n[2].includes("left"),r,a=n[2].includes("right"),s,l=n[9].includes(n[18]),i,o,d,c,b,y,f,z=t&&pt(),k=a&&yt(),m=l&&mt(n);return{c(){e=w("button"),z&&z.c(),r=H(),k&&k.c(),s=H(),m&&m.c(),i=H(),this.h()},l(h){e=v(h,"BUTTON",{style:!0,"aria-label":!0,class:!0});var g=A(e);z&&z.l(g),r=G(g),k&&k.l(g),s=G(g),m&&m.l(g),i=G(g),g.forEach(u),this.h()},h(){j(e,"width",n[12](n[18])),j(e,"height",n[11](n[18])),_(e,"aria-label",o=n[18]),_(e,"class",d=""+(n[18]+" "+n[7]+" svelte-nsa7dq")),e.disabled=c=n[2].includes(n[18]),Y(e,"full",n[1])},m(h,g){U(h,e,g),z&&z.m(e,null),x(e,r),k&&k.m(e,null),x(e,s),m&&m.m(e,null),x(e,i),b=!0,y||(f=fe(e,"click",function(){Fe(n[13]("tap",n[18]))&&n[13]("tap",n[18]).apply(this,arguments)}),y=!0)},p(h,g){n=h,g&4&&(t=n[2].includes("left")),t?z||(z=pt(),z.c(),z.m(e,r)):z&&(z.d(1),z=null),g&4&&(a=n[2].includes("right")),a?k||(k=yt(),k.c(),k.m(e,s)):k&&(k.d(1),k=null),g&520&&(l=n[9].includes(n[18])),l?m?(m.p(n,g),g&520&&N(m,1)):(m=mt(n),m.c(),N(m,1),m.m(e,i)):m&&(oe(),F(m,1,1,()=>{m=null}),de()),(!b||g&4104)&&j(e,"width",n[12](n[18])),(!b||g&2056)&&j(e,"height",n[11](n[18])),(!b||g&8&&o!==(o=n[18]))&&_(e,"aria-label",o),(!b||g&136&&d!==(d=""+(n[18]+" "+n[7]+" svelte-nsa7dq")))&&_(e,"class",d),(!b||g&12&&c!==(c=n[2].includes(n[18])))&&(e.disabled=c),g&138&&Y(e,"full",n[1])},i(h){b||(N(m),b=!0)},o(h){F(m),b=!1},d(h){h&&u(e),z&&z.d(),k&&k.d(),m&&m.d(),y=!1,f()}}}function Mr(n){let e,t,r,a;me(n[17]);let s=n[3],l=[];for(let o=0;o<s.length;o+=1)l[o]=gt(ht(n,s,o));const i=o=>F(l[o],1,1,()=>{l[o]=null});return{c(){e=w("section");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=v(o,"SECTION",{class:!0,style:!0});var d=A(e);for(let c=0;c<l.length;c+=1)l[c].l(d);d.forEach(u),this.h()},h(){_(e,"class","tap svelte-nsa7dq"),j(e,"height",n[8]+"px"),Y(e,"debug",n[0])},m(o,d){U(o,e,d);for(let c=0;c<l.length;c+=1)l[c].m(e,null);t=!0,r||(a=[fe(window,"keydown",function(){Fe(n[10])&&n[10].apply(this,arguments)}),fe(window,"resize",n[17])],r=!0)},p(o,[d]){if(n=o,d&15102){s=n[3];let c;for(c=0;c<s.length;c+=1){const b=ht(n,s,c);l[c]?(l[c].p(b,d),N(l[c],1)):(l[c]=gt(b),l[c].c(),N(l[c],1),l[c].m(e,null))}for(oe(),c=s.length;c<l.length;c+=1)i(c);de()}(!t||d&256)&&j(e,"height",n[8]+"px"),d&1&&Y(e,"debug",n[0])},i(o){if(!t){for(let d=0;d<s.length;d+=1)N(l[d]);t=!0}},o(o){l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)F(l[d]);t=!1},d(o){o&&u(e),ie(l,o),r=!1,Ce(a)}}}function Ir(n,e,t){let r,a,s,l,{debug:i=!1}=e,{enableKeyboard:o=!1}=e,{full:d=!1}=e,{showArrows:c=!1}=e,{disable:b=[]}=e,{directions:y=["left","right"]}=e,{size:f="64px"}=e,{arrowSize:z="48px"}=e,{arrowStroke:k="#000"}=e,{arrowStrokeWidth:m="2"}=e,{arrowPosition:h="center"}=e;const g=Ht();let E;function B(){t(8,E=window.innerHeight)}return n.$$set=p=>{"debug"in p&&t(0,i=p.debug),"enableKeyboard"in p&&t(14,o=p.enableKeyboard),"full"in p&&t(1,d=p.full),"showArrows"in p&&t(15,c=p.showArrows),"disable"in p&&t(2,b=p.disable),"directions"in p&&t(3,y=p.directions),"size"in p&&t(16,f=p.size),"arrowSize"in p&&t(4,z=p.arrowSize),"arrowStroke"in p&&t(5,k=p.arrowStroke),"arrowStrokeWidth"in p&&t(6,m=p.arrowStrokeWidth),"arrowPosition"in p&&t(7,h=p.arrowPosition)},n.$$.update=()=>{n.$$.dirty&65538&&t(12,r=p=>["left","right"].includes(p)?f:d?"100%":f),n.$$.dirty&65538&&t(11,a=p=>["up","down"].includes(p)?f:d?"100%":f),n.$$.dirty&16392&&t(10,s=p=>{const T=p.key.replace("Arrow","").toLowerCase(),L=y.includes(T);o&&L&&(p.preventDefault(),g("tap",T))}),n.$$.dirty&32776&&t(9,l=y.filter(p=>typeof c=="boolean"?c:c.includes(p)))},[i,d,b,y,z,k,m,h,E,l,s,a,r,g,o,c,f,B]}class Dr extends ae{constructor(e){super();le(this,e,Ir,Mr,Z,{debug:0,enableKeyboard:14,full:1,showArrows:15,disable:2,directions:3,size:16,arrowSize:4,arrowStroke:5,arrowStrokeWidth:6,arrowPosition:7})}}var Ur=[{id:"byline",sprite:"title",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"1",end_x:"1",start_y:"2",end_y:"2",start_r:"",end_r:"",z:"",flip:""},{id:"byline",sprite:"russell",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"2400",start_x:"-2",end_x:"1",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"byline",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"1",end_x:"1",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"byline",sprite:"michelle",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"3000",start_x:"11",end_x:"7",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:"TRUE"},{id:"byline",sprite:"michelle",dupe:"",delay:"",once:"",cycle:"wave",loop:"",duration:"",start_x:"7",end_x:"7",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:"TRUE"},{id:"eat",sprite:"michelle",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"1800",start_x:"7",end_x:"11",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"eat",sprite:"russell",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"900",start_x:"1",end_x:"2.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"7",flip:""},{id:"eat",sprite:"russell",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"",start_x:"2.5",end_x:"2.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"7",flip:""},{id:"eat",sprite:"pizza",dupe:"",delay:"",once:"",cycle:"",loop:"TRUE",duration:"3200",start_x:"11",end_x:"-2",start_y:"3",end_y:"3",start_r:"",end_r:"",z:"6",flip:""},{id:"eat",sprite:"boba",dupe:"",delay:"",once:"",cycle:"",loop:"TRUE",duration:"3800",start_x:"12",end_x:"-2",start_y:"1.5",end_y:"1.5",start_r:"",end_r:"",z:"5",flip:""},{id:"eat",sprite:"taco",dupe:"",delay:"",once:"",cycle:"",loop:"TRUE",duration:"4400",start_x:"13",end_x:"-2",start_y:"2",end_y:"2",start_r:"",end_r:"",z:"4",flip:""},{id:"eat",sprite:"cake",dupe:"",delay:"",once:"",cycle:"",loop:"TRUE",duration:"5000",start_x:"14",end_x:"-2",start_y:"1",end_y:"1",start_r:"",end_r:"",z:"3",flip:""},{id:"eat",sprite:"ice-cream",dupe:"",delay:"",once:"",cycle:"",loop:"TRUE",duration:"5600",start_x:"15",end_x:"-2",start_y:"2.5",end_y:"2.5",start_r:"",end_r:"",z:"2",flip:""},{id:"eat",sprite:"burger",dupe:"",delay:"",once:"",cycle:"",loop:"TRUE",duration:"6200",start_x:"16",end_x:"-2",start_y:"0.5",end_y:"0.5",start_r:"",end_r:"",z:"1",flip:""},{id:"eat",sprite:"takeout",dupe:"",delay:"",once:"",cycle:"",loop:"TRUE",duration:"6800",start_x:"17",end_x:"-2",start_y:"0",end_y:"0",start_r:"",end_r:"",z:"0",flip:""},{id:"daughter",sprite:"russell",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"2700",start_x:"2.5",end_x:"7",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"daughter",sprite:"russell",dupe:"",delay:"",once:"",cycle:"walk-baby",loop:"",duration:"2700",start_x:"7",end_x:"2.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:"TRUE"},{id:"daughter",sprite:"russell",dupe:"",delay:"",once:"",cycle:"idle-baby",loop:"",duration:"",start_x:"2.5",end_x:"2.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"daughter",sprite:"hospital-left",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"daughter",sprite:"hospital-right",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"3",flip:""},{id:"solid",sprite:"russell",dupe:"",delay:"",once:"",cycle:"idle-baby",loop:"",duration:"",start_x:"2.5",end_x:"2.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"solid",sprite:"peanut",dupe:"",delay:"",once:"",cycle:"dance",loop:"",duration:"1800",start_x:"-1",end_x:"2",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"solid",sprite:"hospital-left",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"solid",sprite:"hospital-left",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"solid",sprite:"hospital-right",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"test",sprite:"russell",dupe:"",delay:"",once:"",cycle:"walk-baby",loop:"",duration:"2700",start_x:"2.5",end_x:"7",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"test",sprite:"russell",dupe:"",delay:"",once:"",cycle:"walk-baby",loop:"",duration:"2700",start_x:"7",end_x:"2.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:"TRUE"},{id:"test",sprite:"russell",dupe:"",delay:"",once:"",cycle:"idle-baby",loop:"",duration:"",start_x:"2.5",end_x:"2.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"test",sprite:"peanut",dupe:"",delay:"",once:"",cycle:"dance",loop:"",duration:"",start_x:"2",end_x:"2",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"test",sprite:"hospital-left",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"test",sprite:"hospital-right",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"3",flip:""},{id:"test",sprite:"cashew",dupe:"",delay:"",once:"",cycle:"dance",loop:"",duration:"",start_x:"8",end_x:"8",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"test",sprite:"cashew",dupe:"",delay:"3000",once:"",cycle:"dance",loop:"",duration:"2400",start_x:"8",end_x:"4",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"test",sprite:"sesame",dupe:"",delay:"",once:"",cycle:"dance",loop:"",duration:"",start_x:"8",end_x:"8",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"test",sprite:"sesame",dupe:"",delay:"3600",once:"",cycle:"dance",loop:"",duration:"1800",start_x:"8",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"surprise",sprite:"russell",dupe:"",delay:"",once:"",cycle:"walk-baby",loop:"",duration:"5100",start_x:"2.5",end_x:"10",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"doctor",sprite:"russell",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"2400",start_x:"-2",end_x:"2",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"doctor",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"2",end_x:"2",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"doctor",sprite:"chalkboard",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"4",end_x:"4",start_y:"1",end_y:"1",start_r:"",end_r:"",z:"",flip:""},{id:"doctor",sprite:"desk",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"doctor",sprite:"gupta",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"6.5",end_x:"6.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:"TRUE"},{id:"million",sprite:"million",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"1",end_x:"1",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"top",sprite:"top",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"1",end_x:"1",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"falcpa",sprite:"falcpa",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"1",end_x:"1",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"pal",sprite:"pal",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"1",end_x:"1",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"wrap",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"2",end_x:"2",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"wrap",sprite:"chalkboard",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"4",end_x:"4",start_y:"1",end_y:"1",start_r:"",end_r:"",z:"",flip:""},{id:"wrap",sprite:"desk",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"wrap",sprite:"gupta",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"6.5",end_x:"6.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:"TRUE"},{id:"share",sprite:"watercooler",dupe:"",delay:"",once:"",cycle:"bubble",loop:"",duration:"1800",start_x:"4",end_x:"4",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"share",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"2",end_x:"2",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"share",sprite:"russell",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"600",start_x:"2",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"share",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"share",sprite:"michelle",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"3000",start_x:"10",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:"TRUE"},{id:"share",sprite:"michelle",dupe:"",delay:"",once:"",cycle:"idle-speech",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:"TRUE"},{id:"share",sprite:"peanut",dupe:"",delay:"3000",once:"",cycle:"dance",loop:"",duration:"1800",start_x:"10",end_x:"6.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"share",sprite:"peanut",dupe:"",delay:"1000",once:"",cycle:"dance",loop:"",duration:"",start_x:"6.5",end_x:"6.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"share",sprite:"peanut",dupe:"",delay:"",once:"",cycle:"dance",loop:"",duration:"1800",start_x:"6.5",end_x:"10",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"label",sprite:"watercooler",dupe:"",delay:"",once:"",cycle:"bubble",loop:"",duration:"",start_x:"4",end_x:"4",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"label",sprite:"russell",dupe:"",delay:"",once:"",cycle:"idle-speech",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"label",sprite:"michelle",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:"TRUE"},{id:"experiment",sprite:"russell",dupe:"",delay:"",once:"TRUE",cycle:"idle-experiment",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"experiment",sprite:"michelle",dupe:"",delay:"",once:"TRUE",cycle:"idle-experiment",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:"TRUE"},{id:"grocery",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"grocery",sprite:"daughter",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"4800",start_x:"-1",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"grocery",sprite:"daughter",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"grocery",sprite:"michelle",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"3000",start_x:"5",end_x:"10",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"grocery",sprite:"",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"",end_x:"",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"grocery",sprite:"",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"",end_x:"",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"cracker",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"cracker",sprite:"daughter",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"cracker",sprite:"pile",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"mission",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"mission",sprite:"daughter",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"mission",sprite:"pile",dupe:"",delay:"",once:"",cycle:"question",loop:"",duration:"",start_x:"5",end_x:"5",start_y:"",end_y:"",start_r:"",end_r:"",z:"",flip:""},{id:"data",sprite:"russell",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"data",sprite:"daughter",dupe:"",delay:"",once:"",cycle:"walk",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"data",sprite:"shelves",dupe:"a",delay:"",once:"",cycle:"",loop:"TRUE",duration:"4800",start_x:"-1",end_x:"-5",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"data",sprite:"shelves",dupe:"b",delay:"",once:"",cycle:"",loop:"TRUE",duration:"4800",start_x:"2",end_x:"-2",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"data",sprite:"shelves",dupe:"c",delay:"",once:"",cycle:"",loop:"TRUE",duration:"4800",start_x:"5",end_x:"1",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"data",sprite:"shelves",dupe:"d",delay:"",once:"",cycle:"",loop:"TRUE",duration:"4800",start_x:"8",end_x:"4",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"data",sprite:"shelves",dupe:"e",delay:"",once:"",cycle:"",loop:"TRUE",duration:"4800",start_x:"11",end_x:"7",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"one",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"one",sprite:"daughter",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"one",sprite:"shelf-a",dupe:"",delay:"",once:"",cycle:"one",loop:"",duration:"",start_x:"0",end_x:"0",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"one",sprite:"shelf-b",dupe:"",delay:"",once:"",cycle:"one",loop:"",duration:"",start_x:"4",end_x:"4",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"one",sprite:"shelf-c",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"8",end_x:"8",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"oneb",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"oneb",sprite:"daughter",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"oneb",sprite:"shelf-a",dupe:"",delay:"",once:"",cycle:"oneb",loop:"",duration:"",start_x:"0",end_x:"0",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"oneb",sprite:"shelf-b",dupe:"",delay:"",once:"",cycle:"one",loop:"",duration:"",start_x:"4",end_x:"4",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"oneb",sprite:"shelf-c",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"8",end_x:"8",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"two",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"two",sprite:"daughter",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"two",sprite:"shelf-a",dupe:"",delay:"",once:"",cycle:"oneb",loop:"",duration:"",start_x:"0",end_x:"0",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"two",sprite:"shelf-b",dupe:"",delay:"",once:"",cycle:"two",loop:"",duration:"",start_x:"4",end_x:"4",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"two",sprite:"shelf-c",dupe:"",delay:"",once:"",cycle:"two",loop:"",duration:"",start_x:"8",end_x:"8",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"twob",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"twob",sprite:"daughter",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"twob",sprite:"shelf-a",dupe:"",delay:"",once:"",cycle:"oneb",loop:"",duration:"",start_x:"0",end_x:"0",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"twob",sprite:"shelf-b",dupe:"",delay:"",once:"",cycle:"two",loop:"",duration:"",start_x:"4",end_x:"4",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"twob",sprite:"shelf-c",dupe:"",delay:"",once:"",cycle:"two",loop:"",duration:"",start_x:"8",end_x:"8",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"outro",sprite:"russell",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"outro",sprite:"daughter",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3",end_x:"3",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"outro",sprite:"michelle",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"3.5",end_x:"3.5",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"outro",sprite:"gupta",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"4",end_x:"4",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"outro",sprite:"peanut",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"2.25",end_x:"2.25",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"outro",sprite:"cashew",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"5.25",end_x:"5.25",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"outro",sprite:"sesame",dupe:"",delay:"",once:"",cycle:"",loop:"",duration:"",start_x:"6",end_x:"6",start_y:"",end_y:"",start_r:"",end_r:"",z:"2",flip:""},{id:"outro",sprite:"shelf-a",dupe:"",delay:"",once:"",cycle:"oneb",loop:"",duration:"",start_x:"0",end_x:"0",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"outro",sprite:"shelf-b",dupe:"",delay:"",once:"",cycle:"twob",loop:"",duration:"",start_x:"4",end_x:"4",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""},{id:"outro",sprite:"shelf-c",dupe:"",delay:"",once:"",cycle:"twob",loop:"",duration:"",start_x:"8",end_x:"8",start_y:"",end_y:"",start_r:"",end_r:"",z:"1",flip:""}];const bt=Ur.map(n=>De(be({},n),{key:`${n.sprite}_${n.dupe}`,duration:n.duration===""?void 0:+n.duration,delay:+n.delay,start_x:+n.start_x,end_x:+n.end_x,start_y:+n.start_y,end_y:+n.end_y,start_r:+n.start_r,end_r:+n.end_r,end_y:+n.end_y,flip:!!n.flip,loop:!!n.loop,once:!!n.once,z:+n.z}));var Rr=[{id:"boba",size:32,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"burger",size:32,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"cake",size:32,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"cashew",size:32,rows:2,cols:2,frames:[{index:0,x:0,y:0,name:"dance"},{index:1,x:32,y:0,name:"dance"},{index:2,x:0,y:32,name:"dance"},{index:3,x:32,y:32,name:"dance"}]},{id:"chalkboard",size:128,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"croissant",size:32,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"daughter",size:32,rows:2,cols:2,frames:[{index:0,x:0,y:0},{index:1,x:32,y:0,name:"walk"},{index:2,x:0,y:0,name:"walk"},{index:3,x:0,y:32,name:"walk"},{index:4,x:0,y:0,name:"walk"}]},{id:"desk",size:64,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"falcpa",size:256,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"gupta",size:64,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"hospital-left",size:128,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"hospital-right",size:128,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"ice-cream",size:32,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"michelle",size:64,rows:4,cols:4,frames:[{index:0,x:0,y:0},{index:1,x:64,y:0,name:"walk"},{index:2,x:128,y:0,name:"walk"},{index:3,x:192,y:0,name:"walk"},{index:4,x:0,y:64,name:"walk"},{index:5,x:64,y:64,name:"walk"},{index:6,x:128,y:64,name:"walk"},{index:7,x:192,y:64,name:"walk"},{index:8,x:0,y:128,name:"walk"},{index:9,x:64,y:128,name:"wave"},{index:10,x:128,y:128,name:"wave"},{index:11,x:192,y:128,name:"wave"},{index:12,x:192,y:128,name:"wave"},{index:13,x:128,y:128,name:"wave"},{index:14,x:0,y:192,name:"idle-experiment"},{index:15,x:64,y:192,name:"idle-experiment"},{index:16,x:128,y:192,name:"idle-experiment"},{index:17,x:192,y:192,name:"idle-speech"}]},{id:"million",size:256,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"pal",size:256,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"peanut",size:32,rows:2,cols:2,frames:[{index:0,x:0,y:0,name:"dance"},{index:1,x:32,y:0,name:"dance"},{index:2,x:0,y:32,name:"dance"},{index:3,x:32,y:32,name:"dance"}]},{id:"pile",size:128,rows:1,cols:2,frames:[{index:0,x:0,y:0},{index:1,x:128,y:0,name:"question"}]},{id:"pizza",size:32,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"russell",size:64,rows:5,cols:5,frames:[{index:0,x:0,y:0},{index:1,x:64,y:0,name:"walk"},{index:2,x:128,y:0,name:"walk"},{index:3,x:192,y:0,name:"walk"},{index:4,x:256,y:0,name:"walk"},{index:5,x:0,y:64,name:"walk"},{index:6,x:64,y:64,name:"walk"},{index:7,x:128,y:64,name:"walk"},{index:8,x:192,y:64,name:"walk"},{index:9,x:256,y:64,name:"idle-baby"},{index:10,x:0,y:128,name:"idle-baby"},{index:11,x:0,y:128,name:"idle-baby"},{index:12,x:256,y:64,name:"idle-baby"},{index:13,x:64,y:128,name:"idle-baby"},{index:14,x:128,y:128,name:"walk-baby"},{index:15,x:192,y:128,name:"walk-baby"},{index:16,x:256,y:128,name:"walk-baby"},{index:17,x:0,y:192,name:"walk-baby"},{index:18,x:64,y:192,name:"walk-baby"},{index:19,x:128,y:192,name:"walk-baby"},{index:20,x:192,y:192,name:"walk-baby"},{index:21,x:256,y:192,name:"walk-baby"},{index:22,x:0,y:256,name:"idle-experiment"},{index:23,x:64,y:256,name:"idle-experiment"},{index:24,x:128,y:256,name:"idle-experiment"},{index:25,x:192,y:256,name:"idle-speech"}]},{id:"sesame",size:32,rows:2,cols:2,frames:[{index:0,x:0,y:0,name:"dance"},{index:1,x:32,y:0,name:"dance"},{index:2,x:0,y:32,name:"dance"},{index:3,x:32,y:32,name:"dance"}]},{id:"shelf-a",size:128,rows:2,cols:2,frames:[{index:0,x:0,y:0},{index:1,x:128,y:0,name:"one"},{index:2,x:0,y:128,name:"oneb"}]},{id:"shelf-b",size:128,rows:2,cols:2,frames:[{index:0,x:0,y:0},{index:1,x:128,y:0,name:"one"},{index:2,x:0,y:128,name:"two"},{index:3,x:128,y:128,name:"twob"}]},{id:"shelf-c",size:128,rows:1,cols:2,frames:[{index:0,x:0,y:0},{index:1,x:128,y:0,name:"two"}]},{id:"shelves",size:128,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"taco",size:32,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"takeout",size:32,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"title",size:256,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"top",size:256,rows:1,cols:1,frames:[{index:0,x:0,y:0}]},{id:"watercooler",size:64,rows:3,cols:3,frames:[{index:0,x:0,y:0,name:"bubble"},{index:1,x:0,y:0,name:"bubble"},{index:2,x:0,y:0,name:"bubble"},{index:3,x:0,y:0,name:"bubble"},{index:4,x:64,y:0,name:"bubble"},{index:5,x:64,y:0,name:"bubble"},{index:6,x:128,y:0,name:"bubble"},{index:7,x:128,y:0,name:"bubble"},{index:8,x:0,y:64,name:"bubble"},{index:9,x:0,y:64,name:"bubble"},{index:10,x:64,y:64,name:"bubble"},{index:11,x:64,y:64,name:"bubble"},{index:12,x:128,y:64,name:"bubble"},{index:13,x:128,y:64,name:"bubble"},{index:14,x:0,y:128,name:"bubble"},{index:15,x:0,y:128,name:"bubble"}]}];function ze(){window.scrollTo(0,0)}function Lr(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(`error loading ${n}`),r.src=n})}async function Pr(n){const e=n.map(r=>r.sprite).filter(r=>r),t=[...new Set(e)];for(let r of t)await Lr(`assets/sprites/${r}.png`)}const Wr={blue:"#4477AA",red:"#EE6677",green:"#228833",yellow:"#CCBB44",cyan:"#66CCEE",purple:"#AA3377",gray:"#BBBBBB"},Br={black:"#000000","off-black":"#262b44","gray-dark":"#5a6988","gray-medium":"#8B9BB4","gray-light":"#C0CBDB","off-white":"#f0f0f0",white:"#ffffff",red:"#ff0044",green:"#63c74d","green-dark":"#265c42",pink:"#f6757a","pink-dark":"#b55088",peanut:"#fee761",cashew:"#ead4aa",sesame:"#e4a672"};var Nr={category:Wr,color:Br};function xt(n,e,t){const r=n.slice();return r[27]=e[t].value,r}function wt(n,e,t){const r=n.slice();return r[30]=e[t].type,r[27]=e[t].value,r}function vt(n,e,t){const r=n.slice();return r[33]=e[t],r}function kt(n,e,t){const r=n.slice();return r[36]=e[t][0],r[37]=e[t][1],r}function zt(n,e){let t,r,a,s,l,i;return r=new br({props:{id:e[2],steps:e[37],name:e[36].split("_")[0],data:e[15](e[36])}}),{key:n,first:null,c(){t=w("div"),ee(r.$$.fragment),a=H(),this.h()},l(o){t=v(o,"DIV",{});var d=A(t);te(r.$$.fragment,d),a=G(d),d.forEach(u),this.h()},h(){this.first=t},m(o,d){U(o,t,d),re(r,t,null),x(t,a),i=!0},p(o,d){e=o;const c={};d[0]&4&&(c.id=e[2]),d[0]&512&&(c.steps=e[37]),d[0]&512&&(c.name=e[36].split("_")[0]),d[0]&512&&(c.data=e[15](e[36])),r.$set(c)},i(o){i||(N(r.$$.fragment,o),me(()=>{l&&l.end(1),s=ve(t,ce,{duration:0}),s.start()}),i=!0)},o(o){F(r.$$.fragment,o),s&&s.invalidate(),l=ke(t,ce,{duration:150}),i=!1},d(o){o&&u(t),ne(r),o&&l&&l.end()}}}function Et(n){let e=n[10].deep,t,r,a=Tt(n);return{c(){a.c(),t=$()},l(s){a.l(s),t=$()},m(s,l){a.m(s,l),U(s,t,l),r=!0},p(s,l){l[0]&1024&&Z(e,e=s[10].deep)?(oe(),F(a,1,1,V),de(),a=Tt(s),a.c(),N(a),a.m(t.parentNode,t)):a.p(s,l)},i(s){r||(N(a),r=!0)},o(s){F(a),r=!1},d(s){s&&u(t),a.d(s)}}}function Tt(n){let e,t,r;const a=[n[10]];function s(i){n[23](i)}let l={};for(let i=0;i<a.length;i+=1)l=qe(l,a[i]);return n[5]!==void 0&&(l.visible=n[5]),e=new zr({props:l}),Se.push(()=>Oe(e,"visible",s)),{c(){ee(e.$$.fragment)},l(i){te(e.$$.fragment,i)},m(i,o){re(e,i,o),r=!0},p(i,o){const d=o[0]&1024?Ne(a,[Gt(i[10])]):{};!t&&o[0]&32&&(t=!0,d.visible=i[5],He(()=>t=!1)),e.$set(d)},i(i){r||(N(e.$$.fragment,i),r=!0)},o(i){F(e.$$.fragment,i),r=!1},d(i){ne(e,i)}}}function qr(n){let e,t;return e=new Sr({props:{text:n[11]}}),{c(){ee(e.$$.fragment)},l(r){te(e.$$.fragment,r)},m(r,a){re(e,r,a),t=!0},p(r,a){const s={};a[0]&2048&&(s.text=r[11]),e.$set(s)},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){F(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function Cr(n){let e,t,r,a,s,l,i,o,d,c,b,y=n[12].outro,f=[];for(let h=0;h<y.length;h+=1)f[h]=St(wt(n,y,h));const z=h=>F(f[h],1,1,()=>{f[h]=null});let k=n[12].method,m=[];for(let h=0;h<k.length;h+=1)m[h]=Mt(xt(n,k,h));return c=new Je({}),{c(){for(let h=0;h<f.length;h+=1)f[h].c();e=H(),t=w("div"),r=w("details"),a=w("summary"),s=J("Data and Methods"),l=H();for(let h=0;h<m.length;h+=1)m[h].c();d=H(),ee(c.$$.fragment),this.h()},l(h){for(let p=0;p<f.length;p+=1)f[p].l(h);e=G(h),t=v(h,"DIV",{class:!0});var g=A(t);r=v(g,"DETAILS",{});var E=A(r);a=v(E,"SUMMARY",{});var B=A(a);s=Q(B,"Data and Methods"),B.forEach(u),l=G(E);for(let p=0;p<m.length;p+=1)m[p].l(E);E.forEach(u),g.forEach(u),d=G(h),te(c.$$.fragment,h),this.h()},h(){_(t,"class","beat svelte-h3h7ct")},m(h,g){for(let E=0;E<f.length;E+=1)f[E].m(h,g);U(h,e,g),U(h,t,g),x(t,r),x(r,a),x(a,s),x(r,l);for(let E=0;E<m.length;E+=1)m[E].m(r,null);U(h,d,g),re(c,h,g),b=!0},p(h,g){if(g[0]&4096){y=h[12].outro;let E;for(E=0;E<y.length;E+=1){const B=wt(h,y,E);f[E]?(f[E].p(B,g),N(f[E],1)):(f[E]=St(B),f[E].c(),N(f[E],1),f[E].m(e.parentNode,e))}for(oe(),E=y.length;E<f.length;E+=1)z(E);de()}if(g[0]&4096){k=h[12].method;let E;for(E=0;E<k.length;E+=1){const B=xt(h,k,E);m[E]?m[E].p(B,g):(m[E]=Mt(B),m[E].c(),m[E].m(r,null))}for(;E<m.length;E+=1)m[E].d(1);m.length=k.length}},i(h){if(!b){for(let g=0;g<y.length;g+=1)N(f[g]);me(()=>{o&&o.end(1),i=ve(t,ce,{delay:300,duration:150}),i.start()}),N(c.$$.fragment,h),b=!0}},o(h){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)F(f[g]);i&&i.invalidate(),o=ke(t,ce,{duration:50}),F(c.$$.fragment,h),b=!1},d(h){ie(f,h),h&&u(e),h&&u(t),ie(m,h),h&&o&&o.end(),h&&u(d),ne(c,h)}}}function Fr(n){let e,t=n[27]+"";return{c(){e=w("p"),this.h()},l(r){e=v(r,"P",{class:!0});var a=A(e);a.forEach(u),this.h()},h(){_(e,"class","svelte-h3h7ct")},m(r,a){U(r,e,a),e.innerHTML=t},p:V,d(r){r&&u(e)}}}function Hr(n){let e,t=n[27],r=[];for(let a=0;a<t.length;a+=1)r[a]=At(vt(n,t,a));return{c(){e=w("ul");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=v(a,"UL",{class:!0});var s=A(e);for(let l=0;l<r.length;l+=1)r[l].l(s);s.forEach(u),this.h()},h(){_(e,"class","svelte-h3h7ct")},m(a,s){U(a,e,s);for(let l=0;l<r.length;l+=1)r[l].m(e,null)},p(a,s){if(s[0]&4096){t=a[27];let l;for(l=0;l<t.length;l+=1){const i=vt(a,t,l);r[l]?r[l].p(i,s):(r[l]=At(i),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(a){a&&u(e),ie(r,a)}}}function At(n){let e,t=n[33]+"";return{c(){e=w("li"),this.h()},l(r){e=v(r,"LI",{class:!0});var a=A(e);a.forEach(u),this.h()},h(){_(e,"class","svelte-h3h7ct")},m(r,a){U(r,e,a),e.innerHTML=t},p:V,d(r){r&&u(e)}}}function St(n){let e,t,r,a;function s(o,d){return o[30]==="list"?Hr:Fr}let i=s(n)(n);return{c(){e=w("div"),i.c(),this.h()},l(o){e=v(o,"DIV",{class:!0});var d=A(e);i.l(d),d.forEach(u),this.h()},h(){_(e,"class","beat svelte-h3h7ct")},m(o,d){U(o,e,d),i.m(e,null),a=!0},p(o,d){i.p(o,d)},i(o){a||(me(()=>{r&&r.end(1),t=ve(e,ce,{delay:300,duration:150}),t.start()}),a=!0)},o(o){t&&t.invalidate(),r=ke(e,ce,{duration:50}),a=!1},d(o){o&&u(e),i.d(),o&&r&&r.end()}}}function Mt(n){let e,t=n[27]+"";return{c(){e=w("p"),this.h()},l(r){e=v(r,"P",{class:!0});var a=A(e);a.forEach(u),this.h()},h(){_(e,"class","svelte-h3h7ct")},m(r,a){U(r,e,a),e.innerHTML=t},p:V,d(r){r&&u(e)}}}function Gr(n){let e,t,r=[],a=new Map,s,l,i,o,d,c,b,y,f,z,k=n[9];const m=p=>p[36];for(let p=0;p<k.length;p+=1){let T=kt(n,k,p),L=m(T);a.set(L,r[p]=zt(L,T))}let h=n[10].deep&&Et(n);const g=[Cr,qr],E=[];function B(p,T){return p[1]?0:1}return d=B(n),c=E[d]=g[d](n),y=new Dr({props:{disable:n[6],debug:!1,full:!n[3],showArrows:!0,enableKeyboard:!0,size:n[3]?"12vw":n[7],arrowSize:n[3]?"8vw":"5vw",arrowPosition:n[3]?"end":"center",arrowStroke:Nr.color["gray-dark"]}}),y.$on("tap",n[14]),{c(){e=w("div"),t=w("div");for(let p=0;p<r.length;p+=1)r[p].c();s=H(),l=w("div"),h&&h.c(),i=H(),o=w("div"),c.c(),b=H(),ee(y.$$.fragment),this.h()},l(p){e=v(p,"DIV",{id:!0,style:!0,class:!0});var T=A(e);t=v(T,"DIV",{class:!0});var L=A(t);for(let O=0;O<r.length;O+=1)r[O].l(L);L.forEach(u),s=G(T),l=v(T,"DIV",{class:!0});var P=A(l);h&&h.l(P),P.forEach(u),i=G(T),o=v(T,"DIV",{class:!0});var W=A(o);c.l(W),W.forEach(u),b=G(T),te(y.$$.fragment,T),T.forEach(u),this.h()},h(){_(t,"class","stage svelte-h3h7ct"),Y(t,"deepMode",n[5]),_(l,"class","deep-container svelte-h3h7ct"),_(o,"class","beats svelte-h3h7ct"),_(e,"id","game"),_(e,"style",f=""+(n[8]+" height: "+(n[4].height+1)+"px;")),_(e,"class","svelte-h3h7ct"),Y(e,"visible",n[0]),Y(e,"outro",n[1])},m(p,T){U(p,e,T),x(e,t);for(let L=0;L<r.length;L+=1)r[L].m(t,null);x(e,s),x(e,l),h&&h.m(l,null),x(e,i),x(e,o),E[d].m(o,null),x(e,b),re(y,e,null),z=!0},p(p,T){T[0]&33284&&(k=p[9],oe(),r=Ot(r,T,m,1,p,k,a,t,Kt,zt,null,kt),de()),T[0]&32&&Y(t,"deepMode",p[5]),p[10].deep?h?(h.p(p,T),T[0]&1024&&N(h,1)):(h=Et(p),h.c(),N(h,1),h.m(l,null)):h&&(oe(),F(h,1,1,()=>{h=null}),de());let L=d;d=B(p),d===L?E[d].p(p,T):(oe(),F(E[L],1,1,()=>{E[L]=null}),de(),c=E[d],c?c.p(p,T):(c=E[d]=g[d](p),c.c()),N(c,1),c.m(o,null));const P={};T[0]&64&&(P.disable=p[6]),T[0]&8&&(P.full=!p[3]),T[0]&136&&(P.size=p[3]?"12vw":p[7]),T[0]&8&&(P.arrowSize=p[3]?"8vw":"5vw"),T[0]&8&&(P.arrowPosition=p[3]?"end":"center"),y.$set(P),(!z||T[0]&272&&f!==(f=""+(p[8]+" height: "+(p[4].height+1)+"px;")))&&_(e,"style",f),T[0]&1&&Y(e,"visible",p[0]),T[0]&2&&Y(e,"outro",p[1])},i(p){if(!z){for(let T=0;T<k.length;T+=1)N(r[T]);N(h),N(c),N(y.$$.fragment,p),z=!0}},o(p){for(let T=0;T<r.length;T+=1)F(r[T]);F(h),F(c),F(y.$$.fragment,p),z=!1},d(p){p&&u(e);for(let T=0;T<r.length;T+=1)r[T].d();h&&h.d(),E[d].d(),ne(y)}}}const Ee=10,Or=4,ge=32,Vr=4,It=960;function jr(n,e,t){let r,a,s,l,i,o,d,c,b,y,f,z,k,m,h,g;he(n,hr,I=>t(4,m=I)),he(n,_t,I=>t(22,g=I));const{copy:E}=we("App");let{visible:B}=e;const p=ge*Ee;let T=!1,L=0,P=Yt();he(n,P,I=>t(21,h=I));const W=[].concat(...E.scenes.map(I=>I.beats)),O=({detail:I})=>{const D=L+(I==="right"?1:-1);t(16,L=Math.min(Math.max(0,D),W.length-1)),window.scrollTo(0,0)},q=I=>Rr.find(S=>S.id===I.split("_")[0]),C=(I,S)=>{if(r)return I/p;const D=Math.min(Vr,I/p),se=540,ue=Math.min(Math.max(se,S),It);return(.5+(ue-se)/(It-se)*.5)*D};Ae(()=>{Pr(bt)});function M(I){T=I,t(5,T)}return n.$$set=I=>{"visible"in I&&t(0,B=I.visible)},n.$$.update=()=>{n.$$.dirty[0]&4194304&&t(3,r=!g.lg),n.$$.dirty[0]&16&&P.set(C(m.width,m.height)),n.$$.dirty[0]&2097168&&t(19,a=Math.ceil((m.width-h*ge*Ee)/2)),n.$$.dirty[0]&65536&&t(2,s=W[L].id),n.$$.dirty[0]&65536&&t(11,l=W[L].text),n.$$.dirty[0]&65544&&t(18,i=r&&W[L].tx||0),n.$$.dirty[0]&65544&&t(17,o=r?W[L].ts||1.3:1),n.$$.dirty[0]&65536&&t(10,d=be({},W[L])),n.$$.dirty[0]&4&&t(1,c=s==="outro"),n.$$.dirty[0]&4&&t(20,b=bt.filter(I=>I.id===s&&I.sprite)),n.$$.dirty[0]&1048576&&t(9,y=Vt(b,I=>I.key)),n.$$.dirty[0]&3014656&&t(8,f=`--scale: ${h}; --margin: ${a}px; --unitsX: ${Ee}; --unitsY: ${Or}; --base: ${ge}px; --tX: ${i}; --tS: ${o};`),n.$$.dirty[0]&2097168&&t(7,z=jt(".1%")((m.width-Ee*h*ge)/2/m.width)),n.$$.dirty[0]&65536&&t(6,k=L===0?["left"]:L===W.length-1?["right"]:[]),n.$$.dirty[0]&2&&(c?window.removeEventListener("scroll",ze):window.addEventListener("scroll",ze))},Ge("Game",{scale:P,BASE:ge}),[B,c,s,r,m,T,k,z,f,y,d,l,E,P,O,q,L,o,i,a,b,h,g,M]}class Kr extends ae{constructor(e){super();le(this,e,jr,Gr,Z,{visible:0},null,[-1,-1])}}const Yr="The Hidden Layers of Sesame Allergies",Xr="Tk",Jr="https://pudding.cool/2021/12/sesame",Qr=[{scene:"intro",beats:[{id:"byline",text:"By <a target=_blank rel=external href=https://pudding.cool/author/russell-goldenberg>Russell Goldenberg</a> <br>and <a target=_blank rel=external href=https://pudding.cool/author/michelle-mcghee>Michelle McGhee</a>",hide:"true"}]},{scene:"discovery",beats:[{id:"eat",text:"I don\u2019t have food allergies. I never gave them much thought, eating whatever I wanted.",alt:"Hi, I\u2019m Russell. I don\u2019t have food allergies. I never gave them much thought, eating whatever I wanted."},{id:"daughter",text:"Then I had my daughter.",tx:"0",ts:"1.5"},{id:"solid",text:"After introducing solid foods at six months, I learned she was allergic to <mark class= color-peanut>peanuts.</mark> Allergic reactions can be scary, including things like hives, swelling, and anaphylaxis, which can be fatal.",tx:"0",ts:"1.5"},{id:"test",text:"She got tested at the allergist: <mark class=color-cashew>tree nuts</mark> and <mark class=color-sesame>sesame</mark> were added to the list. <span class=note>You can click the <mark class=color-red>red circles</mark> for deep dives.</span>",alt:"She got tested at the allergist: tree nuts and sesame were added to the list.",deep:"The tree nuts she is allergic to are cashews and pistachios. Technically, they aren\u2019t even nuts, but seeds! And peanuts are legumes! Although tree nuts are lumped into a single category, they are made up of cashews, pistachios, walnuts, almonds, hazelnuts, pecans, and others.",x:"4.5",y:"0.5",delay:"5400",size:"1",tx:"0",ts:"1.5"},{id:"surprise",text:"I knew peanuts and tree nuts were common, but sesame surprised me. It was time to learn about food allergies.",tx:"0",ts:"1.5"}]},{scene:"education",beats:[{id:"doctor",text:"This is Dr. Ruchi Gupta. She literally wrote <a target=_blank rel=external href=https://foodwithoutfearbook.com/>the book</a> on food allergies. I learned some basics:",alt:"I read Dr. Ruchi Gupta\u2019s recent book <a target=_blank rel=external href=https://foodwithoutfearbook.com/>Food Without Fear</a>. Here are some basics:",deep:"Dr. Gupta\u2019s book, <a target=_blank rel=external href=https://foodwithoutfearbook.com/>Food Without Fear</a>. Tk she can add some details here?.",x:"6.33",y:"0.88",front:"true",tx:"0",ts:"1.5"},{id:"million",text:"Food allergies are common. About 32 million Americans have at least one allergy. Different from an intolerance, they are medical diagnoses for foods that trigger a harmful immune response, sending someone to the ER on average every three minutes."},{id:"top",text:"Food allergies are on the rise in recent decades. Sesame is now the ninth most common allergen, affecting 500,000 US adults. Here are the top nine allergens among adults in the US from Dr. Gupta\u2019s 2019 study.",alt:"Food allergies are on the rise in recent decades. Sesame is now the ninth most common allergen. According to a 2019 study by Dr. Gupta, the top nine allergens among adults in the US are shellfish (7.2 million), milk (4.7), peanut (4.5), tree nut (3.0), fin fish (2.2), egg (2.0), wheat (2.0), soy (1.5) and sesame (0.5).",deep:"The Center for Disease Control and Prevention estimated that food allergies increased by 50% in children between 1997 and 2011. Although a few hypotheses exist, the root cause is still up for debate. On top of the emotional cost, Dr. Gupta estimates that families with a child with food allergies can spend an extra $4,000 a year, on average.",x:"3.98",y:"0.29",front:"true"},{id:"falcpa",text:"Since 2004, the FDA \u201Crequires that the label of a food that contains an ingredient that is or contains protein from a \u2018major food allergen\u2019 declare the presence of the allergen in the manner described by the law.\u201D",deep:"Why is this so important? Because accurate food labeling is not the standard. A Canadian study found that 17% of accidental exposures came from unlabeled ingredients. [source?]",x:"8.2",y:"0.45",front:"true"},{id:"pal",text:"But FALCPA can be improved upon. For example, most messaging on products, known as precautionary allergen labeling (PAL), like \u201Cmay contain [allergen],\u201D is voluntary and unregulated. This leads consumers to think one message is safer than another.",deep:"In a survey, Dr. Gupta found that 56% of people think Precautionary Allergen Labeling is mandated by law, and 41% believe the language correlates to the quantity of allergen present, when in fact they don\u2019t adhere to any standard.",x:"1.6",y:"3.21",front:"true"},{id:"wrap",text:"There is no cure for food allergies. And since labeling regulations are limited and don\u2019t account for a variety of potential risks hidden during manufacturing practices, the only prevention is being prepared and informed.",tx:"0",ts:"1.5"}]},{scene:"experiment",beats:[{id:"share",text:"Michelle also has food allergies. We shared our experiences and talked about all the stresses that come with them, whether it is eating out or grocery shopping.",tx:"0",ts:"1.8"},{id:"label",text:"We discussed the complexities of food labeling, and the hidden ways sesame can end up in a product, like being in a generic ingredient such as \u201Cspices,\u201D or from cross-contact on shared equipment.",deep:"For sesame, there are two common hiding places in the ingredients list: it can be part of a comically vague \u201Cspices\u201D blend, or in \u201Cnatural flavors.\u201D It can also be masked by another name/ingredient (e.g., tahini), or sneak in during manufacturing (e.g., the product was made on the same machine as another product that had sesame).",x:"4.48",y:"1.85",tx:"0",ts:"1.8"},{id:"experiment",text:"We decided to run an experiment on the presently unregulated labeling practices of sesame. Our goal: explore data to shine some light on an aspect of life that may seem trivial to most, but stressful to many.",tx:"0",ts:"2.1"}]},{scene:"store",beats:[{id:"grocery",text:"Our experiment focused on grocery shopping, since every choice could have potentially life-threatening consequences for my daughter. Just one of many mundane daily habits that can be anxiety-inducing for people with allergies.",tx:"2",ts:"1.8"},{id:"cracker",text:"We focused our research on crackers; a snacking staple that can often have sesame seeds. We picked the 100 most popular crackers from each of two massive grocery chains; Albertsons and its subsidiaries, and Whole Foods.",deep:"<strong>Why Albertsons?</strong> It is one of the biggest chains in the US and carries most crackers everyone is familiar with. Stores include its namesake, Safeway, Vons, Jewel-Osco, Acme, Shaw\u2019s, and others. <strong>Why Whole Foods?</strong> It is the biggest \u201Cnatural\u201D food store in the US, and carries some crackers that more conventional supermarkets don\u2019t.",x:"7.02",y:"2.45",tx:"-1",ts:"1.5"},{id:"mission",text:"Our mission: find how confident we can be when deciding to purchase each cracker. Does the product\u2019s labeling practices make life easier or more stressful?",tx:"-1",ts:"1.5"},{id:"data",text:"We compiled all the ingredients for the 200 crackers across 42 brands, and contacted them (via websites, emails, and phone calls) to get details about their approaches to labeling and manufacturing.",tx:"0",ts:"1"},{id:"one",text:"We split the results into two groups. <mark class=color-green>65% of crackers</mark> fall into the \u201Cconfident\u201D group. Confident means we can clearly determine whether the product contains sesame or not based on the label.",tx:"0",ts:"1"},{id:"oneb",text:"<mark class=color-green-dark>One in five</mark> of these we simply avoid because sesame is an ingredient. For the rest, we feel it is safe to purchase, either because the brand runs a sesame-free facility, or we understand and trust their manufacturing or labeling practices.",deep:"An example of a good response from Pepperidge Farms, \u201Csesame has been identified as an allergen of growing concern, and as such, we want to provide the information our consumers need to evaluate our products.  We voluntarily call out sesame as such on our product labels and we would always detail the presence of sesame even if it was found in our flavors or spices.\u201D",x:"1.22",y:"2.95",tx:"0",ts:"1"},{id:"two",text:"But for <mark class=color-pink>35% of crackers</mark>, we have \u201Cno confidence\u201D. Even after contacting the manufacturers, we are unsure whether they contain sesame or not, so we avoid them. For many, this was because we received unclear or unconvincing responses to our inquiries.",deep:"Two examples of bad responses: \u201CWe unfortunately cannot disclose the ingredients in our natural flavors as they are proprietary so they may or may not contain sesame,\u201D and \u201CWe do not have the information you requested. Since sesame is not a top 8 allergen in the USA it is currently not treated as an allergen in our facilities.\u201D",x:"7.22",y:"2.95",tx:"0",ts:"1"},{id:"twob",text:"<mark class=color-pink-dark>A handful</mark> of these were even more concerning: despite our best efforts, there was no accessible information on their label or websites, and we were unable to contact them or didn\u2019t hear back.",tx:"0",ts:"1"}]},{scene:"outro",beats:[{id:"outro",tx:"0",ts:"1"}]}],Zr=[{type:"text",value:"After talking to dozens of brands, we were ultimately disappointed by the results. Because the regulations are limited for all allergens &mdash; and forthcoming for sesame &mdash; more than one third of crackers presented a considerable risk. And beyond the varied approaches to labeling and manufacturing, the biggest challenge we encountered was simply accessing this information."},{type:"text",value:"However, some brands did show how allergen information can be done well. Take Simple Mills, which makes a <a target=_blank rel=external href=https://www.simplemills.com/SimpleMills/media/PDF/allergenchart_2021-10-29.pdf>product by product allergen list</a> easily accessible on their site."},{type:"text",value:"Until labeling laws improve, it's no wonder some people just choose to avoid products altogether that aren't explicitly made in allergen-free facilities."},{type:"text",value:"So where do we go from here? Here are some things you can do, with various levels of involvement:"},{type:"list",value:["<strong>Spread awareness:</strong> Share this story! Copy <a target=_blank rel=external href=https://pudding.cool/2021/12/sesame>this link</a> then email or social media it up. Quick and easy.","<strong>Advocate:</strong> Sign <a target=_blank rel=external href=https://www.change.org/p/strengthen-the-food-labeling-modernization-act-to-protect-the-allergic-community/>this petition</a> and help convince lawmakers to make labeling better for everyone.","<strong>Educate yourself:</strong>  We barely scratched the surface of how significantly food allergies impact lots of people\u2019s lives. To learn more, checkout these great resources at <a target=_blank rel=external href=https://www.foodallergy.org/>FARE</a>, or pick up Dr. Gupta\u2019s book, <a target=_blank rel=external href=http://foodwithoutfearbook.com/>Food Without Fear.</a>"]},{type:"text",value:"Lastly, although we\u2019d like to share the data as a resource for others, we think this is a disservice to the community. Not only is it out of date as of publishing the story, but doctors always recommend to read the labels for yourself every time and contact brands regularly since manufacturing practices and facilities can change."},{type:"text",value:"For comments or questions get in touch with the team at sup@pudding.cool. Special thanks to Dr. Gupta and her team for providing feedback on the story."}],$r=[{type:"text",value:"We picked the 100 most popular crackers from each of two grocery chains \u2014 <a target=_blank rel=external href=https://www.acmemarkets.com/shop/aisles/cookies-snacks-candy/crackers.2977.html?sort=&page=1>Albertsons</a> and its subsidiaries and <a target=_blank rel=external href=https://www.wholefoodsmarket.com/products/snacks-chips-salsas-dips/crackers>Whole Foods</a> \u2014 according to their websites\u2019 popularity rankings. We removed any duplicate products, cookies, variety packs, and Signature Select products (Albertsons\u2019 own brand) from the list."},{type:"text",value:"For each cracker, we considered: is the information on the label or provided by the manufacturer clear and definitive? Would I (Russell), bring it into my own home knowing it definitely doesn\u2019t contain sesame? Or could I just as easily ignore it because of clear labeling? These crackers were labeled \u201Cconfident.\u201D Alternatively, are we still not sure if the cracker contains sesame or not, even after looking at the label and calling the manufacturer? These were labeled \u201Cnot confident.\u201D"},{type:"text",value:"If the label did not mention sesame, we sought additional information from the manufacturers. 42 brands produce the 200 unique cracker products we focused on. We looked at manufacturers\u2019 websites and FAQ pages about allergens, emailed them, filled out contact forms, or called their customer support, in that order, until we understood their practices around cross-contact, cleaning, and labeling. If we could not reach them after trying all of these avenues, we considered them uncontactable."}];var Te={title:Yr,description:Xr,url:Jr,scenes:Qr,outro:Zr,method:$r};function en(n){let e,t,r,a,s,l,i,o,d,c;e=new Zt({props:{title:Te.title,description:Te.description,url:Te.url}});function b(f){n[2](f)}let y={label:"Text Version"};return n[0]!==void 0&&(y.value=n[0]),a=new tr({props:y}),Se.push(()=>Oe(a,"value",b)),i=new fr({props:{visible:n[1]}}),d=new Kr({props:{visible:!n[1]}}),{c(){ee(e.$$.fragment),t=H(),r=w("div"),ee(a.$$.fragment),l=H(),ee(i.$$.fragment),o=H(),ee(d.$$.fragment),this.h()},l(f){te(e.$$.fragment,f),t=G(f),r=v(f,"DIV",{class:!0,"tab-index":!0});var z=A(r);te(a.$$.fragment,z),z.forEach(u),l=G(f),te(i.$$.fragment,f),o=G(f),te(d.$$.fragment,f),this.h()},h(){_(r,"class","toggle svelte-1763vdo"),_(r,"tab-index","1")},m(f,z){re(e,f,z),U(f,t,z),U(f,r,z),re(a,r,null),U(f,l,z),re(i,f,z),U(f,o,z),re(d,f,z),c=!0},p(f,[z]){const k={};!s&&z&1&&(s=!0,k.value=f[0],He(()=>s=!1)),a.$set(k);const m={};z&2&&(m.visible=f[1]),i.$set(m);const h={};z&2&&(h.visible=!f[1]),d.$set(h)},i(f){c||(N(e.$$.fragment,f),N(a.$$.fragment,f),N(i.$$.fragment,f),N(d.$$.fragment,f),c=!0)},o(f){F(e.$$.fragment,f),F(a.$$.fragment,f),F(i.$$.fragment,f),F(d.$$.fragment,f),c=!1},d(f){ne(e,f),f&&u(t),f&&u(r),ne(a),f&&u(l),ne(i,f),f&&u(o),ne(d,f)}}}function tn(n,e,t){let r;Ge("App",{copy:Te});let a="off";function s(l){a=l,t(0,a)}return n.$$.update=()=>{n.$$.dirty&1&&t(1,r=a==="on"),n.$$.dirty&2&&(r?window.removeEventListener("scroll",ze):window.addEventListener("scroll",ze))},[a,r,s]}class rn extends ae{constructor(e){super();le(this,e,tn,en,Z,{})}}function nn(n){let e,t;return e=new rn({}),{c(){ee(e.$$.fragment)},l(r){te(e.$$.fragment,r)},m(r,a){re(e,r,a),t=!0},p:V,i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){F(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}const on=!0;class dn extends ae{constructor(e){super();le(this,e,null,nn,Z,{})}}export{dn as default,on as prerender};
